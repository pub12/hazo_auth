import type { HazoConnectAdapter } from "hazo_connect";
export type ScopeLevel = "hazo_scopes_l1" | "hazo_scopes_l2" | "hazo_scopes_l3" | "hazo_scopes_l4" | "hazo_scopes_l5" | "hazo_scopes_l6" | "hazo_scopes_l7";
export type ScopeRecord = {
    id: string;
    seq: string;
    org_id: string;
    root_org_id: string;
    name: string;
    parent_scope_id?: string | null;
    created_at: string;
    changed_at: string;
};
export type ScopeServiceResult = {
    success: boolean;
    scope?: ScopeRecord;
    scopes?: ScopeRecord[];
    error?: string;
};
export type CreateScopeData = {
    org_id: string;
    root_org_id: string;
    name: string;
    parent_scope_id?: string;
};
export type UpdateScopeData = {
    name?: string;
    parent_scope_id?: string | null;
};
export declare const SCOPE_LEVELS: ScopeLevel[];
export declare const SCOPE_LEVEL_NUMBERS: Record<ScopeLevel, number>;
/**
 * Validates that the provided string is a valid scope level
 */
export declare function is_valid_scope_level(level: string): level is ScopeLevel;
/**
 * Gets the parent level for a given scope level
 * Returns undefined for L1 (root level)
 */
export declare function get_parent_level(level: ScopeLevel): ScopeLevel | undefined;
/**
 * Gets the child level for a given scope level
 * Returns undefined for L7 (leaf level)
 */
export declare function get_child_level(level: ScopeLevel): ScopeLevel | undefined;
/**
 * Gets all scopes for a given level, optionally filtered by organization
 */
export declare function get_scopes_by_level(adapter: HazoConnectAdapter, level: ScopeLevel, org_id?: string): Promise<ScopeServiceResult>;
/**
 * Gets a single scope by ID
 */
export declare function get_scope_by_id(adapter: HazoConnectAdapter, level: ScopeLevel, scope_id: string): Promise<ScopeServiceResult>;
/**
 * Gets a single scope by seq (friendly ID)
 */
export declare function get_scope_by_seq(adapter: HazoConnectAdapter, level: ScopeLevel, seq: string): Promise<ScopeServiceResult>;
/**
 * Creates a new scope
 * Note: The seq field is auto-generated by the database via hazo_scope_id_generator function
 */
export declare function create_scope(adapter: HazoConnectAdapter, level: ScopeLevel, data: CreateScopeData): Promise<ScopeServiceResult>;
/**
 * Updates an existing scope
 */
export declare function update_scope(adapter: HazoConnectAdapter, level: ScopeLevel, scope_id: string, data: UpdateScopeData): Promise<ScopeServiceResult>;
/**
 * Deletes a scope (cascades to children via database FK constraints)
 */
export declare function delete_scope(adapter: HazoConnectAdapter, level: ScopeLevel, scope_id: string): Promise<ScopeServiceResult>;
/**
 * Gets immediate children of a scope
 */
export declare function get_scope_children(adapter: HazoConnectAdapter, level: ScopeLevel, scope_id: string): Promise<ScopeServiceResult>;
/**
 * Gets all ancestors of a scope up to L1 (root)
 * Returns array ordered from immediate parent to root (L1)
 */
export declare function get_scope_ancestors(adapter: HazoConnectAdapter, level: ScopeLevel, scope_id: string): Promise<ScopeServiceResult>;
/**
 * Gets all descendants of a scope down to L7 (leaves)
 * Returns flat array of all descendant scopes
 */
export declare function get_scope_descendants(adapter: HazoConnectAdapter, level: ScopeLevel, scope_id: string): Promise<ScopeServiceResult>;
/**
 * Gets scope hierarchy tree for a given organization
 * Returns nested structure starting from L1
 */
export type ScopeTreeNode = ScopeRecord & {
    children?: ScopeTreeNode[];
    level: ScopeLevel;
};
/**
 * Organization tree node that groups scopes by organization
 */
export type OrgScopeTreeNode = {
    id: string;
    name: string;
    org_id: string;
    root_org_id: string;
    isOrgNode: true;
    children: ScopeTreeNode[];
};
export declare function get_scope_tree(adapter: HazoConnectAdapter, org_id: string): Promise<{
    success: boolean;
    tree?: ScopeTreeNode[];
    error?: string;
}>;
/**
 * Gets all scope trees across all organizations
 * Returns trees for all L1 scopes (top level)
 */
export declare function get_all_scope_trees(adapter: HazoConnectAdapter): Promise<{
    success: boolean;
    trees?: ScopeTreeNode[];
    error?: string;
}>;
//# sourceMappingURL=scope_service.d.ts.map